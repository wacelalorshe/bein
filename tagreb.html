لإضافة مربع اختيار حقيقي ضمن رسالة التأكيد، يجب عليك استخدام واجهة مستخدم مخصصة بدلاً من استخدام `confirm`، حيث أن `confirm` لا يدعم إضافة عناصر مثل المربعات الاختيارية. 

إليك كيفية إنشاء مربع حوار مخصص باستخدام HTML وCSS وJavaScript:

```html
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فتح رابط في تطبيق</title>

    <!----------  اكواد استايل القنوات  ------------>
    <style type="text/css">
        .grid-container {
            display: grid;
            justify-content: center;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 5px 5px;
            padding: 0px;
        }
        .grid1-container {
            display: grid;
            justify-content: center;
            grid-template-columns: repeat(1, 1fr);
            grid-gap: 10px;
            color: green;
            padding: 0px;
        }

        button {
            background-image: linear-gradient(to right, #151825, #3A4266, #3A4266, #3A4266, #3A4266, #151825);
            padding: 15px;
            margin: 20px 10px;
            height: 400px;
            width: 265px;
            border-bottom: 15px groove #fff;
            border-top: 10px groove #fff;
            border-radius: 55px;
        }

        button:active {
            border-left: 0px solid rgb(255 213 105 / 80%);
            border-top: 15px double rgb(255 0 2 / 50%);
            border-bottom: 10px groove rgb(255 219 97 / 100%);
        }

        /* أنماط مربع الحوار */
        .modal {
            display: none; /* مخفي بشكل افتراضي */
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            text-align: right; /* محاذاة النص إلى اليمين */
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

    <script>
        function openApp(appUrl, downloadUrl) {
            // محاولة فتح التطبيق
            window.location.href = appUrl;

            // الانتظار قليلاً لمعرفة ما إذا تم فتح التطبيق
            setTimeout(function() {
                // التحقق مما إذا كان المستخدم قد اختار إلغاء الرسالة سابقًا
                if (localStorage.getItem('appInstallPrompt') !== 'disabled') {
                    // إظهار مربع الحوار المخصص
                    document.getElementById('myModal').style.display = "block";

                    document.getElementById('confirmButton').onclick = function() {
                        window.open(downloadUrl, '_blank'); // فتح رابط التحميل في نافذة جديدة
                        closeModal();
                    }

                    document.getElementById('cancelButton').onclick = function() {
                        closeModal();
                    }

                    document.getElementById('dontShowAgain').onclick = function() {
                        localStorage.setItem('appInstallPrompt', 'disabled');
                    }
                } else {
                    console.log("تم إلغاء الرسالة مسبقًا، لن تظهر مرة أخرى.");
                }
            }, 3000); // الانتظار لمدة 3 ثوان
        }

        function closeModal() {
            document.getElementById('myModal').style.display = "none";
        }

        // إغلاق مربع الحوار عند النقر خارج المحتوى
        window.onclick = function(event) {
            if (event.target == document.getElementById('myModal')) {
                closeModal();
            }
        }
    </script>
</head>
<body>

<header>
    <div class="grid1-container">
        <div align="center">
            <button onclick="openApp('xmtv://WwoiaHR0cHM6Ly9saXZlYWtnci5hbGthc3NkaWdpdGFsLm5ldC9obHMvbGl2ZS8yMDk3MDM3L0Fsa2FzczR4aXV5dGdmZmljY24vbWFzdGVyLm0zdTh8Y2FzdD1mYWxzZXxuYW1lPS4ud2FjZWwgdHYuLiIKCl0K', 'https://play.google.com/store/apps/details?id=com.xpola.player')">
                <img src="data:image/png;base64,..." alt="Icon 1" />
                <h2>الكـاس 1</h2>
            </button>

            <button onclick="openApp('yourapp://link2', 'https://link-to-download-app.com')">
                <img src="data:image/png;base64,..." alt="Icon 2" />
                <h2>الكـاس 2</h2>
            </button>
        </div>
    </div>
</header>

<!-- مربع الحوار المخصص -->
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <p>يجب أولاً تثبيت التطبيق. هل ترغب في الذهاب إلى رابط التحميل؟</p>
        <input type="checkbox" id="dontShowAgain" /> لا تظهر لي هذه الرسالة مرة أخرى
        <br><br>
        <button id="confirmButton">نعم</button>
        <button id="cancelButton">لا</button>
    </div>
</div>

</body>
</html>
```

### الشرح:
1. **مربع الحوار المخصص:** تم إنشاء مربع حوار (modal) باستخدام HTML وCSS. يتم إظهاره عند الحاجة، ويمكنه احتواء نص وزر ومربع اختيار.
2. **إجراءات الأزرار:** عند الضغط على "نعم"، يتم فتح رابط التحميل. وعند الضغط على "لا"، يتم إغلاق مربع الحوار. إذا تم تحديد مربع "لا تظهر لي هذه الرسالة مرة أخرى"، يتم تخزين الحالة في `localStorage`.
3. **إغلاق مربع الحوار:** يمكن للمستخدم إغلاق مربع الحوار بالنقر على زر الإغلاق أو النقر خارج مربع الحوار.

بهذا الشكل، سيكون لديك واجهة مستخدم أكثر تفاعلية تسمح للمستخدم بالموافقة أو الرفض بشكل مريح.
